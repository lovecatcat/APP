<!DOCTYPE html><html><head>    <meta charset="utf-8">    <title></title>    <link href="css/mui.css" rel="stylesheet"/>    <link href="css/common.css" rel="stylesheet"/>    <link href="css/module.css" rel="stylesheet"/>    <link href="css/form.css" rel="stylesheet"/>    <link href="css/member.css" rel="stylesheet"/>    <script src="js/config.js" type="text/javascript"></script></head><body class="BL-bg-fff"><div class="member-logo BL-ub BL-ub-ac BL-ub-pc">    <img src="images/icon/ico-logo.png"/></div><div id="Js-content" class="mui-content BL-bg-fff">    <div id="Js-name" v-if="login_type===1" v-cloak>        <ul class="mui-table-view form-list-cell">            <li class="BL-ub BL-ub-ac member-login-item">                <div class="login-ico-phone BL-bimg-contain"></div>                <input class="BL-ub BL-ub-f1" type="text" v-model="user_name" placeholder="请输入手机号/用户名"/>            </li>            <li class="BL-ub BL-ub-ac member-login-item">                <div class="login-ico-pwd BL-bimg-contain"></div>                <input class="BL-ub BL-ub-f1" type="password" v-model="password" placeholder="请输入密码"/>                <div class="login-ico-pwdeye BL-bimg-contain"></div>            </li>        </ul>        <div class="form-button-group BL-pad-b-1">            <a type="button" class="form-btn" :class="{'BL-bg-9dcdfa':!user_name||!password}" href="javascript:;"               id="login-user">登&nbsp;录</a>        </div>        <div class="mui-row login-more">            <a href="member-forgetpwd.html" data-wid="member-forgetpwd"               class="mui-col-sm-6 mui-col-xm-6 BL-txt-l BL-pad-tb-1">                忘记密码？            </a>            <a class="mui-col-sm-6 mui-col-xm-6 BL-txt-r BL-pad-tb-1" href="javascript:;" @click="login_type=2">                手机验证码登录            </a>        </div>    </div>    <div id="Js-sms" v-else v-cloak>        <ul class="mui-table-view form-list-cell">            <li class="BL-ub BL-ub-ac member-login-item">                <div class="login-ico-phone BL-bimg-contain"></div>                <input class="BL-ub BL-ub-f1" v-model="tel" placeholder="请输入手机号/用户名"/>            </li>            <li class="BL-ub BL-ub-ac member-login-item">                <div class="login-ico-pwd BL-bimg-contain"></div>                <input class="BL-ub BL-ub-f1" v-model="codesms" placeholder="请输入验证码"/>                <span class="login-sms-btn BL-col-999" @click="sendCode">{{text}}</span>            </li>        </ul>        <div class="form-button-group BL-pad-b-1">            <a type="button" class="form-btn" :class="{'BL-bg-9dcdfa':!tel||!codesms}" id="login-user">登&nbsp;录</a>        </div>        <div class="mui-row login-more">            <a href="member-forgetpwd.html" data-wid="member-forgetpwd"               class="mui-col-sm-6 mui-col-xm-6 BL-txt-l BL-pad-tb-1">                忘记密码？            </a>            <div class="mui-col-sm-6 mui-col-xm-6 BL-txt-r BL-pad-tb-1" @click="login_type=1">                用户名登录            </div>        </div>    </div>    <div class="other-login">        <div class="line-m">        <span>        <span>其他登录方式</span>        </span>        </div>        <div class="BL-ub BL-ub-ac BL-ub-pc BL-mar-t-2">            <div class="other-login-ico login-ico-wechat BL-bimg-contain"></div>            <div class="other-login-ico login-ico-QQ BL-bimg-contain"></div>        </div>    </div></div><script src="js/vue.min.js" type="text/javascript"></script><script src="js/mui.min.js" type="text/javascript"></script><script type="text/javascript">    mui.init();    mui('body').on('tap', 'a', function () {        var href = this.getAttribute('href');        var id = this.getAttribute("data-wid");        if (href && ~href.indexOf('.html')) {            //打开新窗口            mui.openWindow({                url: href,                id: id,                show: animateObj.aniDetal            });        }    });    var login = new Vue({        el: '#Js-content',        data: {            login_type: 1, //1用户名登录  2手机验证码登录            user_name: '陆惠忠', //用户名            password: '123456', //密码            tel: '15970195438', //手机号            codesms: '', //验证码            disabled: false,            second: 60,            time: 0        },        computed: {            text: function () {                return this.time > 0 ? this.time + 's后可重新获取' : '点击获取'            }        },        methods: {            run: function () {                this.time = this.second                this.timer()            },            sendCode: function () {                var tel = this.tel                if (!tel.trim()) {                    mui.toast('请输入手机号', {duration: 'short', type: 'div'})                } else if (!/^1[3|4|5|6|7|8][0-9]{9}$/.test(tel)) {                    mui.toast('手机号格式不正确', {duration: 'short', type: 'div'})                }                mui.ajax('http://www.luckyins.com/api/api/invoke', {                    data: {data: JSON.stringify({tel: this.tel}),device: 'pad',server: 'user.sendSms'},                    dataType: 'json',//服务器返回json格式数据                    type: 'post',//HTTP请求类型                    timeout: 10000,//超时时间设置为10秒；                    headers: {'Content-Type': 'application/json'},                    success: function (data) {                        mui.toast(data.msg, {duration: 'short', type: 'div'})                    },                    error: function (xhr, type, errorThrown) {                        alert(errorThrown)                    }                });            },            timer: function () {                if (this.time > 0) {                    this.time--                    setTimeout(this.timer, 1000)                } else {                    this.disabled = false                }            }        }    })    //登录    mui.plusReady(function () {        document.querySelector('#login-user').addEventListener("tap", function () {            var basedata            var type = login.login_type;            var user_name = login.user_name;            var password = login.password;            var tel = login.tel;            var code = login.codesms;            if (type === 1) {                if (!user_name.trim()) {                    mui.toast('请输入用户名', {duration: 'short', type: 'div'})                } else if (!password.trim()) {                    mui.toast('请输入密码', {duration: 'short', type: 'div'})                }                basedata = {channel_id: '1', type: 'account', data: {keyword: user_name, password: password}}            } else if (type === 2) {                if (!tel.trim()) {                    mui.toast('请输入手机号', {duration: 'short', type: 'div'})                } else if (!/^1[3|4|5|6|7|8][0-9]{9}$/.test(tel)) {                    mui.toast('手机号格式不正确', {duration: 'short', type: 'div'})                } else if (!code.trim()) {                    mui.toast('请输入验证码', {duration: 'short', type: 'div'})                }                basedata = {channel_id: '1', type: 'sms', data: {tel: tel, code: code}}            }            mui.ajax('http://www.luckyins.com/api/api/login', {                data: basedata,                dataType: 'json',//服务器返回json格式数据                type: 'post',//HTTP请求类型                timeout: 10000,//超时时间设置为10秒；                headers: {'Content-Type': 'application/json'},                success: function (data) {                    mui.toast(data.msg, {duration: 'short', type: 'div'})                    //服务器返回响应，根据响应结果，分析是否登录成功；                    console.log(JSON.stringify(data))                },                error: function (xhr, type, errorThrown) {                    //异常处理；                }            });        });    })</script></body></html>