<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<link href="css/mui.css" rel="stylesheet" />
		<link href="css/common.css" rel="stylesheet" />
		<link href="css/module.css" rel="stylesheet" />
		<link href="css/member.css" rel="stylesheet" />
		<script src="js/config.js" type="text/javascript"></script>
	</head>

	<body class="BL-bg-fff">
		<header id="Js-header" class="BL-bg-fff">
			<div class="BL-mod-headbar BL-mod-headbar-pos">
				<a class="mui-action-back mui-icon-left-nav BL-icon BL-icon-left"></a>
				<h1 class="BL-title">考勤统计</h1>
			</div>
		</header>	
		
		<div id="Js-content" class="mui-content BL-bg-fff BL-overFlow-autoY member-duty">
			<div id="Js-schedule" class="member-duty-dater"></div>
			
			<div class="member-duty-context">
				<div class="h1-title">考勤月度汇总</div>
				<div class="BL-ub BL-ub-ac section">
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">5</span>天
							</div>
							<div class="decri">
								出勤	
							</div>
						</div>
					</div>
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">5</span>天
							</div>
							<div class="decri">
								休息	
							</div>
						</div>
					</div>
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">5</span>天
							</div>
							<div class="decri">
								<span class="done done-orange"></span>迟到
							</div>
						</div>
					</div>
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">5</span>天
							</div>
							<div class="decri">
								<span class="done done-red"></span>早退	
							</div>
						</div>
					</div>
				</div>
				
				<div class="BL-ub BL-ub-ac section">
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">1</span>天
							</div>
							<div class="decri">
								<span class="done done-blue"></span>缺卡
							</div>
						</div>
					</div>
					<div class="mui-col-sm-3 mui-col-xm-3 BL-ub BL-ub-pc">
						<div class="content">
							<div class="days">
								<span id="">1</span>天
							</div>
							<div class="decri">
								加班	
							</div>
						</div>
					</div>
				</div>
				
				<div class="section section-tip">
					注：以纸质加班申请为准
				</div>
			</div>
		</div>
		
	</body>
	<script src="js/mui.min.js" type="text/javascript"></script>
	<script src="js/schedule.js"></script>
	<script type="text/javascript">
		mui.init();
		
		// 测试数据
		var intyear = new Date().getFullYear(),
			intmonth = new Date().getMonth(),
			intfullDay = new Date(intyear, intmonth + 1, 0).getDate(), //当月总天数
			data = [/*{
				status:1, // 打卡状态：(1:正常，2：迟到，3：早退，4：缺卡，5：休息)
				date  :1, // 打卡的日期
			}*/];
		for(var i=0; i<intfullDay; i++){
			if(i==0){
				data.push({status:1, date:i+1});	
			}else if(i == 1){
				data.push({status:2, date:i+1});
			}else if(i == 2){
				data.push({status:5, date:i+1});
			}else if(i == 3){
				data.push({status:5, date:i+1});
			}else if(i == 4){
				data.push({status:3, date:i+1});
			}else if(i == 5){
				data.push({status:4, date:i+1});
			}else if(i == 6){
				data.push({status:1, date:i+1});
			}else if(i == 7){
				data.push({status:1, date:i+1});
			}else if(i == 8){
				data.push({status:1, date:i+1});
			}else if(i == 9){
				data.push({status:1, date:i+1});
			}else{
				data.push({status:6, date:i+1});
			}
		}
		
		mui.plusReady(function() {
			statusbar();
			var winH = window.innerHeight;
			var titHeight = document.querySelector('#Js-header').offsetHeight;
			document.querySelector('#Js-content').style.height = (winH - titHeight) + 'px';
			
			var mySchedule = new Schedule({
				el: '#Js-schedule'
			}, data);
			
			mySchedule.el.addEventListener('tap', function(e) {
				var dater = e.target.getAttribute('data-dater'); // 获取日期
				console.log(dater);
			
				switch(e.target.id) {
					case 'nextMonth':
						mySchedule.nextMonthFun(data);
						break;
					case 'prevMonth':
						mySchedule.prevMonthFun(data);
						break;
					default:
						break;
				};
			}, false)
			
			//mySchedule.nextMonthFun(data); //下一月
			//mySchedule.nextMonthFun(data); //上一月
		})
	</script>

</html>