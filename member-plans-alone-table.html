<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<link href="css/mui.css" rel="stylesheet" />
		<link href="css/common.css" rel="stylesheet" />
		<link href="css/module.css" rel="stylesheet" />
		<link href="css/plans.css" rel="stylesheet" />
		<script src="js/config.js" type="text/javascript"></script>
	</head>

	<body>
		<div id="modal" v-cloak>

			<div id="modal-bottom" class=" BL-modal-bottom-2 clearfloat" style="height: 80% !important;">
				<header id="Js-header" class="BL-bg-fff">
					<div class="BL-title">利益演示表</div>
					<div class="plans-detail-design-button BL-mar-b-2 BL-ub BL-ub-pc" v-if="level.indexOf(formID) > -1 ">
						<button class="BL-btn-gray BL-ftz-42 BL-mar-l-1 BL-pad-lr-1">低档 4.5%</button>
						<button class="BL-btn-gray BL-ftz-42 BL-mar-l-1 BL-pad-lr-1">低档 4.5%</button>
						<button class="BL-btn-blue BL-ftz-42 BL-mar-l-1 BL-pad-lr-1">低档 4.5%</button>
					</div>
				</header>
				 
				<!--利益演示表-->
				<div id="Js-content"  class="BL-overFlow-autoY" style="height: 90%;overflow-y: scroll;overflow-x: hidden;">
					<div  style="width: 12%; float: left;">
                        <table class="BL-ftz-46">
                            <thead class=" BL-col-3b9cf5">
	                            <tr>
	                                <th>年龄</th>
	                            </tr>
                            </thead>
                            <tbody class="BL-bg-f2f">
	                            <tr v-for="(item, index) in main" :key="index"  v-if="index < safe_year">
	                            	<td class="td_age">{{item.被保险人年龄}}</td>
	                            </tr>
	                           
	                        </tbody>
                        </table> 
                    </div>
                    <div class="plans-detail-table" style="width: 88%;float: left;">
                    	<div>
                    		
                    		<table class="BL-ftz-46">
	                            <thead class=" BL-col-3b9cf5">
		                            <tr v-if="index == '1'" v-for="(item, index) in main" :key="index">
		                            	<th v-for="(data, i) in item" v-if="i !== '被保险人年龄'">
	                            			{{i}}
	                            		</th>
		                            	<th v-if="formID == '384'">
	                            			生存保险金
	                            		</th>
		                            </tr>
	                            </thead>
	                            <tbody  v-if="behalfTable.indexOf(Number(formID)) > -1 ">
	                            	<tr>
	                            		<td>ddd</td>
	                            	</tr>
	                            </tbody>
	                            <tbody  v-else>
	                            	<tr v-else v-for="(item, index) in main" :key="index">
	                            		<td v-for="(data, i) in item" v-if="i !== '被保险人年龄'">
	                            			{{data}}
	                            		</td>
	                            	</tr>
	                            </tbody>
	                        </table>
                    	</div>
                    </div>
				
				</div>	
				<!--利益演示表-->
			</div>
		</div>
	</body>
	<script src="js/mui.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/vue.min.js"></script>
	<script type="text/javascript">
		mui.init();
		var popu;
		var modal = new Vue({
			el: '#modal',
			data: {
				isHide: '', //要弹哪个框
				formID: '', 
				main: {},
				children: {},
				pay_year: '',
				safe_year: '',
				behalfTable: [365, 377, 382, 384, 401, 19384, 19388], //主险利益演示表和附加险有关系的
				level: [401, 378] //有中高低的
			}
		})

		mui.plusReady(function() {

			// 实例化关闭窗口对象
			popu = new ClosePopu();
			var data = plus.webview.currentWebview().data;
			modal.isHide = data.modalID
			modal.formID = data.formID
			modal.pay_year = data.pay_year
			
			if(data.safe_year == '0'){
				//终身
				modal.safe_year = 999
			}
//			alert(modal.safe_year)
			// 判断是不是需要附加险，是分别赋值，不是只赋值主险
			if(modal.behalfTable.indexOf(Number(modal.formID)) > -1){
				modal.main = data.list.main.list
				modal.children = data.list.children
//				alert(JSON.stringify(modal.main))
//				alert(JSON.stringify(modal.children))
			}else{
				modal.main = data.list.list
//				alert(JSON.stringify(modal.main))
				
			}
			
			

			// 点击关闭遮罩层，弹框
			mui('body').on('tap', '#maskInit', function() {
				// 关闭遮罩层，弹框
				popu.closepop();
			}, false);

		});
	</script>

</html>