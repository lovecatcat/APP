<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link href="css/mui.css" rel="stylesheet"/>
    <link href="css/common.css" rel="stylesheet"/>
    <link href="css/module.css" rel="stylesheet"/>
    <link href="css/news.css" rel="stylesheet"/>
    <script src="js/config.js" type="text/javascript"></script>
</head>

<body id="Js-body" style="background: rgba(0,0,0,0.5);">
	<div class="BL-bg-fff">
		<div class="BL-mod-sidemenu">
			<ul id="Js-sidemenu">
				<li data-id="1">菜单一</li>
				<li data-id="2">菜单二</li>
				<li data-id="3">菜单三</li>
				<li data-id="4">菜单四</li>
			</ul>
		</div>	
	</div>	
</body>
<script src="js/mui.min.js" type="text/javascript"></script>
<script type="text/javascript">
    mui.init();

    mui.plusReady(function () {
    	// 定义父页窗口对象ID
    	var wvNews = plus.webview.getWebviewById('news');
    	
    	// 监听一级栏目所选类型ID
    	window.addEventListener('sidemenuId', function(data){
    		console.log(data.detail.id);
    	}, false);
    	
    	// 点击非内容区关闭二级菜单窗口
    	window.addEventListener('tap', function(){
    		mui.fire(wvNews, 'closeSidemenu');			
    	});
    	
    	// 点击内容区，选中菜单回传ID到父页，并关闭二级菜单窗口
    	mui("#Js-sidemenu").on("tap", "li", function (e) {
    		e.stopPropagation();
    		var id = this.getAttribute("data-id");
    		mui.fire(wvNews, 'itemCurrentId', {
		        nid:id	
		    });	
    	});
    	
    });

</script>

</html>