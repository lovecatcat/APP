<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>发现</title>
		<link href="css/mui.css" rel="stylesheet" />
		<link href="css/common.css" rel="stylesheet" />
		<link href="css/module.css" rel="stylesheet" />
		<link href="css/news.css" rel="stylesheet" />
		<script src="js/config.js" type="text/javascript"></script>
	</head>

	<body class="BL-bg-f2f">
		<header id="Js-header" class="BL-bg-fff">
			<div class="BL-mod-headbar BL-mod-headbar-pos">
				<a class="mui-action-back mui-icon-left-nav BL-icon BL-icon-left"></a>
				<h1 class="BL-title">发现</h1>
				<a id="Js-openShare" class="BL-icon BL-icon-share"></a>
			</div>
		</header>
		<div id="Js-content">
			<!--<footer id="Js-footer" class="BL-footer BL-bg-fff">-->
				<!--<div class="BL-ub BL-ub-pc">-->
					<!--<div class="BL-ub BL-ub-pj" style="width: 50%;">-->
						<!--<div class="reads">-->
							<!--{{ read_num }}-->
						<!--</div>-->
						<!--<div class="collect" :class="{'active': is_enshrine == '1'}" :data-enshrine="is_enshrine">-->
							<!--&lt;!&ndash;{{newsDetail_data.praise_num}}&ndash;&gt;-->
						<!--</div>-->
					<!--</div>-->
				<!--</div>-->
			<!--</footer>-->
		</div>
	</body>
	<script src="js/mui.min.js" type="text/javascript"></script>
	<script src="js/webviewGroup.js" type="text/javascript"></script>
	<script src="js/vue.min.js"></script>
	<script src="js/plusShare.js"></script>

	<script type="text/javascript">
        mui.init();
        var newsDetail = new Vue({
            el: '#Js-content',
            data: {
                new_id: "",   // 视频新闻ID
                link: "",     // 新闻链接
                title: "",    // 新闻标题
                read_num: "", // 阅读量
                is_enshrine: ""  // 是否收藏
            }
        });

		mui('.mui-scroll-wrapper').scroll({
			scrollY: true, //是否竖向滚动
			scrollX: false, //是否横向滚动
			startX: 0, //初始化时滚动至x
			startY: 0, //初始化时滚动至y
			indicators: false, //是否显示滚动条
			deceleration: 0.0006, //阻尼系数,系数越小滑动越灵敏
			bounce: false //是否启用回弹
		});

		mui.plusReady(function() {
			statusbar();

			var winH = window.screen.height / sizeObj.dpl;
	        var topHeight = document.querySelector('#Js-header').offsetHeight / sizeObj.dpl;
	        var divHeight = document.querySelector('#Js-content').offsetHeight / sizeObj.dpl;
	        var _divH = topHeight + divHeight +1; // 头部高度
	        var _viewH = winH - _divH; // 内容区域高度
	        var _self = plus.webview.currentWebview();

            newsDetail.video_url = plus.webview.currentWebview().video_url;
            newsDetail.title = plus.webview.currentWebview().title;
            newsDetail.new_id = plus.webview.currentWebview().id
            newsDetail.read_num = plus.webview.currentWebview().read_num
            newsDetail.is_enshrine = plus.webview.currentWebview().is_enshrine
				
			var group = new webviewGroup(_self.id, {
	            topHeight: _divH,
	            viewHeight: _self,
	            items: [{
	                id: "video",
	                url: newsDetail.video_url,
	                extras: {}
	            }],
	           
	        });
//	        group.switchTab(wid);
	        document.getElementById("Js-openShare").addEventListener("tap", function() {
			    //分享内容，开发者可自定义
			    var message = {
			        title: newsDetail.title, //名字
			        content: "保险+ ——为保险展业创造无限可能",
			        href: newsDetail.video_url, //分享出去后，点击跳转地址
			        thumbs: ["_www/images/pic/logo.png"] //分享缩略图
			    }
			    //调起分享
			    plusShare(message, function(res) {
			        //分享回调函数
			        if(res) {
			            plus.nativeUI.toast("分享成功");
			        } else {
			            plus.nativeUI.toast("分享失败");
			        }
			    })
			});
		})
	</script>

</html>