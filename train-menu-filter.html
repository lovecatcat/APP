<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <link href="css/mui.css" rel="stylesheet"/>
    <link href="css/common.css" rel="stylesheet"/>
    <link href="css/module.css" rel="stylesheet"/>
    <link href="css/news.css" rel="stylesheet"/>
    <script src="js/config.js" type="text/javascript"></script>
</head>

<body class="BL-bg-f2f">
    <header id="Js-header" class="BL-bg-fff">
        <div class="BL-mod-headbar BL-mod-headbar-pos">
            <a class="mui-action-back mui-icon-left-nav BL-icon BL-icon-left"></a>
            <h1 class="BL-title">筛选</h1>
        </div>
    </header>

    <div id="Js-content" class="mui-content" v-cloak>
        <div class="filter-business">
            <div class="hd BL-ub BL-ub-ac BL-ub-pc">
                <div class="line BL-ub-f1">&nbsp;</div>
                <!--<div class="title">-->
                    <!--保险公司-->
                <!--</div>-->
                <div class="line BL-ub-f1">&nbsp;</div>
            </div>
            <div class="mui-row bd group" v-if="menuData&&menuData.length > 0">
                <div class="item mui-col-sm-4 mui-col-xs-4" v-for="(item,key) in menuData" :key="key"
                     :class="{'item-active':cate_id&&cate_id===item.id}">
                    <div class="name" @click="chooseMenu(item.id)">{{ item.name }}aaa</div>
                </div>
            </div>
        </div>
    </div>
</body>
<script src="js/mui.min.js" type="text/javascript"></script>
<script src="js/vue.min.js" type="text/javascript"></script>
<script type="text/javascript">
    mui.init();

    (function ($) {
        $.plusReady(function () {
            statusbar();
            var menu = new Vue({
                el: '#Js-content',
                data: {
                    cate_id: '',
                    menuData: []
                },
                methods: {
                    chooseMenu: function (e) {
                        this.cate_id = e;
                        $.fire(plus.webview.currentWebview().opener(), 'selectMenu', {cate_id: e});
                        $.back();
                    }
                }
            });
            //接收上一个页面传来的
            menu.$nextTick(function () {
                menu.menuData = plus.webview.currentWebview().menu;
                alert(JSON.stringify(menu.menuData))
                menu.cate_id = plus.webview.currentWebview().cate_id;
            })
        });
    }(mui));
</script>

</html>